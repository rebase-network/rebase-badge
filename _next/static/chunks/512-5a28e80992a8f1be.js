"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[512],{5512:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var a=n(6687),s=n(29),i=n(7794),r=n.n(i),p=n(5147),d=n(2824),l=n(5005),u=n(9521),o=n(7294),y=n(9170),c=n(2621),m=n(6076),b=n(9485),f=n(5553),h=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"previousAdmin","type":"address"},{"indexed":false,"internalType":"address","name":"newAdmin","type":"address"}],"name":"AdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"beacon","type":"address"}],"name":"BeaconUpgraded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"version","type":"uint8"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"value","type":"string"},{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"}],"name":"URI","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"implementation","type":"address"}],"name":"Upgraded","type":"event"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MINTER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"values","type":"uint256[]"}],"name":"burnBatch","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_baseURI","type":"string"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"tos","type":"address[]"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"mintAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"mintBatch","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"tos","type":"address[]"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"mintBatchAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proxiableUUID","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_baseURI","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"}],"name":"setName","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"string","name":"tokenURI","type":"string"}],"name":"setURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newImplementation","type":"address"}],"name":"upgradeTo","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newImplementation","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"upgradeToAndCall","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"uri","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]'),x=n(7922),T=n(5995),g=n(8864),v=n(5893),k=u.ZP.div.withConfig({displayName:"step2__Box",componentId:"sc-19bj6w4-0"})(["padding:40px 0;.numbers{font-size:20px;}.tips{font-size:12px;color:#999;}h5{padding:10px 0 5px 10px;color:#000000;}.ml2{margin-left:10px;}.flexNumber{word-break:break-all;}"]),w=u.ZP.div.withConfig({displayName:"step2__TableBox",componentId:"sc-19bj6w4-1"})(["margin-top:10px;height:470px;padding-bottom:20px;overflow-y:auto;.tableStyle{border-top:1px solid #eee;color:#666666;th{height:60px;line-height:60px;}.first{display:flex;justify-content:center;align-items:stretch;.form-check-inline{margin-right:0;display:flex;margin-top:13px;}}td{line-height:50px;word-break:break-all;&:nth-child(4){width:30%;}}tr:nth-child(2n+1) td{background:rgba(255,255,255,0.3)!important;color:#666666!important;}tr:hover td{background:rgba(0,0,0,0.01)!important;}}"]),j=(u.ZP.h5.withConfig({displayName:"step2__H5Box",componentId:"sc-19bj6w4-2"})(["display:inline-block;margin-bottom:20px;"]),u.ZP.div.withConfig({displayName:"step2__TipsBox",componentId:"sc-19bj6w4-3"})(["margin-bottom:20px;"]));function M(e){var t=(0,y.$)(),n=t.state,i=t.dispatch,u=n.account,M=n.first,I=n.web3Provider,S=(n.importRecord,e.handleNext),N=(0,o.useState)("0"),A=N[0],R=N[1],U=(0,o.useState)([]),_=U[0],B=U[1],Z=(0,o.useState)(200)[0],E=(0,o.useState)(),P=E[0],C=E[1],F=(0,o.useState)(""),H=F[0],O=F[1],L=(0,o.useState)(""),z=(L[0],L[1]),J=(0,o.useState)(!1),W=(J[0],J[1]),D=(0,o.useState)(""),G=(D[0],D[1]),Q=(0,o.useState)([]),X=(Q[0],Q[1],(0,o.useState)("")),Y=(X[0],X[1],(0,o.useState)([])),$=Y[0],q=Y[1],K=(0,o.useState)([]),V=K[0],ee=K[1],te=(0,o.useState)(""),ne=te[0],ae=te[1],se=(0,o.useState)([]),ie=se[0],re=se[1];(0,o.useEffect)((function(){if(null!=M){var e=M.addressesStr,t=(M.tokenIds,e.split("\n")),n=[];t.map((function(e){e&&n.push({address:e.split(",")[0],tokenId:e.split(",")[1]})})),B(n),pe(),le()}}),[M]);var pe=function(){var e=(0,s.Z)(r().mark((function e(){var t,n,a,s,i,p,d,l,u,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=M){e.next=2;break}return e.abrupt("return");case 2:t=M.addressesStr,n=t.split("\n"),a=[],s=[],i=0;case 7:if(!(i<n.length)){e.next=30;break}if(0!==(d=null===(p=n[i])||void 0===p?void 0:p.trim()).length){e.next=12;break}return console.log("skip empty line ".concat(i)),e.abrupt("continue",27);case 12:if(l=d.split(","),!(u=l[0].trim()).endsWith(".eth")){e.next=21;break}return e.next=17,c.yl().resolveName(u);case 17:if(e.t0=e.sent,e.t0){e.next=20;break}e.t0="";case 20:u=e.t0;case 21:if(o=parseFloat(l[1].trim()),b.UJ(u)){e.next=25;break}return console.log("Invalid address: ",u),e.abrupt("continue",27);case 25:a.push(u),s.push(o);case 27:i++,e.next=7;break;case 30:q(a),ee(s),console.log("Total address : ".concat(a.length));case 33:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=(0,s.Z)(r().mark((function e(){var t,n,a,s,i,p,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.getNetwork();case 2:if(n=e.sent,a=n.chainId,console.log("chainId",a),i=T.filter((function(e){return e.id===a})),p=null===(t=i[0])||void 0===t?void 0:t.url,!(d=g.filter((function(e){return e.chainId===a}))).length){e.next=12;break}s=d[0].contract,e.next=14;break;case 12:return console.error("Unsupported network!!!!"),e.abrupt("return");case 14:O(s),z(p),console.log("contract address: ",s);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){de()}),[]),(0,o.useEffect)((function(){null!=M&&P&&H&&oe()}),[M,P,H]);var le=function(){var e=(0,s.Z)(r().mark((function e(){var t,n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=M){e.next=2;break}return e.abrupt("return");case 2:return i({type:x.U.TIPS,payload:"Query balance in progress... "}),C(null),t=I.getSigner(u),e.next=7,t.getBalance();case 7:n=e.sent,a=f.dF(n),R(a),i({type:x.U.TIPS,payload:null});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,s.Z)(r().mark((function e(){var t,n,s,p,d,l,o,y,c,b,f;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=M){e.next=2;break}return e.abrupt("return");case 2:console.log("~~~~doMint"),t=I.getSigner(u),n=new m.CH(H,h,I),s=0,p=[],d=(0,a.Z)(ie),l=0;case 9:if(!(l<$.length)){e.next=37;break}return s++,o=$.slice(l,l+Z),y=V.slice(l,l+Z),G("Minting Badge in progress... (".concat(s,"/").concat(Math.ceil($.length/Z),")")),i({type:x.U.TIPS,payload:"Minting Badge in progress... (".concat(s,"/").concat(Math.ceil($.length/Z),")")}),e.prev=15,e.next=18,n.connect(t).mintBatchAddresses(o,y,"0x");case 18:return c=e.sent,e.next=21,c.wait();case 21:b=e.sent,console.log("mintBatchAddresses",b),p.push(b.hash||b.transactionHash),d=d.concat(o),s>=Math.ceil($.length/Z)&&(W(!1),i({type:x.U.TIPS,payload:null}),i({type:x.U.STORE_TXHASHLIST,payload:p}),S(3)),e.next=34;break;case 28:e.prev=28,e.t0=e.catch(15),W(!1),i({type:x.U.TIPS,payload:null}),ae((null===(f=e.t0.data)||void 0===f?void 0:f.message)||e.t0.message),s>=Math.ceil($.length/Z)&&console.error(ie);case 34:l+=Z,e.next=9;break;case 37:re(d);case 38:case"end":return e.stop()}}),e,null,[[15,28]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=(0,s.Z)(r().mark((function e(){var t,n,a,s,p,d,l,u,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=M){e.next=2;break}return e.abrupt("return");case 2:t=M.addressesStr,W(!0),G("Waiting..."),i({type:x.U.TIPS,payload:"Waiting..."}),n=t.split("\n"),a=[],s=[],p=0;case 10:if(!(p<n.length)){e.next=33;break}if(0!==(d=n[p].trim()).length){e.next=15;break}return console.log("skip empty line ".concat(p)),e.abrupt("continue",30);case 15:if(l=d.split(","),!(u=l[0].trim()).endsWith(".eth")){e.next=24;break}return e.next=20,c.yl().resolveName(u);case 20:if(e.t0=e.sent,e.t0){e.next=23;break}e.t0="";case 23:u=e.t0;case 24:if(o=l[1].trim(),b.UJ(u)){e.next=28;break}return console.log("Invalid address: ",u),e.abrupt("continue",30);case 28:a.push(u),s.push(o);case 30:p++,e.next=10;break;case 33:i({type:x.U.TIPS,payload:null});case 34:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)(k,{children:[(0,v.jsxs)("div",{className:"mb-3",children:[(0,v.jsx)("h5",{children:"List of recipients"}),(0,v.jsx)(w,{children:(0,v.jsxs)(p.Z,{striped:!0,borderless:!0,hover:!0,className:"tableStyle",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{}),(0,v.jsx)("th",{children:"Address"}),(0,v.jsx)("th",{children:"TokenId"})]})}),(0,v.jsx)("tbody",{children:_.map((function(e,t){return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:t}),(0,v.jsx)("td",{children:e.address}),(0,v.jsx)("td",{children:e.tokenId})]},"".concat(e.address,"_").concat(t))}))})]})})]}),(0,v.jsxs)("div",{className:"mb-3",children:[(0,v.jsx)("h5",{children:"Summary"}),(0,v.jsx)(p.Z,{bordered:!0,children:(0,v.jsxs)("tbody",{children:[(0,v.jsxs)("tr",{children:[(0,v.jsxs)("td",{width:"50%",children:[(0,v.jsx)("div",{className:"numbers",children:$.length}),(0,v.jsx)("div",{className:"tips",children:"Total number of addresses"})]}),(0,v.jsxs)("td",{children:[(0,v.jsx)("div",{className:"numbers",children:Math.ceil($.length/Z)}),(0,v.jsx)("div",{className:"tips",children:"Total number of transaction needed"})]})]}),(0,v.jsxs)("tr",{children:[(0,v.jsxs)("td",{width:"50%",children:[(0,v.jsx)("div",{className:"numbers",children:"\xa0 "}),(0,v.jsx)("div",{className:"tips",children:"Approximate cost of operation"})]}),(0,v.jsxs)("td",{children:[(0,v.jsxs)("div",{className:"numbers",children:[A," ETH"]}),(0,v.jsx)("div",{className:"tips",children:"Your ETH balance"})]})]})]})})]}),(0,v.jsx)(j,{children:!!ne.length&&(0,v.jsx)(d.Z,{variant:"danger",children:ne})}),(0,v.jsx)("div",{className:"ml2",children:(0,v.jsx)(l.Z,{variant:"flat",onClick:ue,children:"Mint"})})]})}},5995:function(e){e.exports=JSON.parse('[{"id":1,"url":"https://etherscan.io/tx/"},{"id":42,"url":"https://kovan.etherscan.io/tx/"},{"id":56,"url":"https://bscscan.com/tx/"},{"id":97,"url":"https://testnet.bscscan.com/tx/"},{"id":128,"url":"https://hecoinfo.com/tx/"},{"id":137,"url":"https://polygonscan.com/tx/"},{"id":256,"url":"https://testnet.hecoinfo.com/tx/"}]')}}]);