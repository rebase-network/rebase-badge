"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[512],{5512:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var a=n(6687),s=n(29),i=n(7794),r=n.n(i),p=n(5147),d=n(2824),l=n(5005),u=n(9521),o=n(7294),y=n(4463),c=n(6076),m=n(9485),b=n(5553),f=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"previousAdmin","type":"address"},{"indexed":false,"internalType":"address","name":"newAdmin","type":"address"}],"name":"AdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"beacon","type":"address"}],"name":"BeaconUpgraded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"version","type":"uint8"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"value","type":"string"},{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"}],"name":"URI","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"implementation","type":"address"}],"name":"Upgraded","type":"event"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MINTER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"values","type":"uint256[]"}],"name":"burnBatch","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_baseURI","type":"string"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"tos","type":"address[]"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"mintAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"mintBatch","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"tos","type":"address[]"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"mintBatchAddresses","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proxiableUUID","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256[]","name":"ids","type":"uint256[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_baseURI","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"}],"name":"setName","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"string","name":"tokenURI","type":"string"}],"name":"setURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newImplementation","type":"address"}],"name":"upgradeTo","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newImplementation","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"upgradeToAndCall","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"uri","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]'),h=n(7922),x=n(5995),T=n(8864),g=n(5893),v=u.ZP.div.withConfig({displayName:"step2__Box",componentId:"sc-19bj6w4-0"})(["padding:40px 0;.numbers{font-size:20px;}.tips{font-size:12px;color:#999;}h5{padding:10px 0 5px 10px;color:#000000;}.ml2{margin-left:10px;}.flexNumber{word-break:break-all;}"]),w=u.ZP.div.withConfig({displayName:"step2__TableBox",componentId:"sc-19bj6w4-1"})(["margin-top:10px;height:470px;padding-bottom:20px;overflow-y:auto;.tableStyle{border-top:1px solid #eee;color:#666666;th{height:60px;line-height:60px;}.first{display:flex;justify-content:center;align-items:stretch;.form-check-inline{margin-right:0;display:flex;margin-top:13px;}}td{line-height:50px;word-break:break-all;&:nth-child(4){width:30%;}}tr:nth-child(2n+1) td{background:rgba(255,255,255,0.3)!important;color:#666666!important;}tr:hover td{background:rgba(0,0,0,0.01)!important;}}"]),k=(u.ZP.h5.withConfig({displayName:"step2__H5Box",componentId:"sc-19bj6w4-2"})(["display:inline-block;margin-bottom:20px;"]),u.ZP.div.withConfig({displayName:"step2__TipsBox",componentId:"sc-19bj6w4-3"})(["margin-bottom:20px;"]));function j(e){var t=(0,y.$)(),n=t.state,i=t.dispatch,u=n.account,j=n.first,M=n.web3Provider,I=(n.importRecord,e.handleNext),S=(0,o.useState)("0"),N=S[0],A=S[1],R=(0,o.useState)([]),U=R[0],_=R[1],B=(0,o.useState)(200)[0],Z=(0,o.useState)(),E=Z[0],P=Z[1],C=(0,o.useState)(""),F=C[0],H=C[1],O=(0,o.useState)(""),L=(O[0],O[1]),z=(0,o.useState)(!1),J=(z[0],z[1]),D=(0,o.useState)(""),W=(D[0],D[1]),G=(0,o.useState)([]),Q=(G[0],G[1],(0,o.useState)("")),X=(Q[0],Q[1],(0,o.useState)([])),Y=X[0],$=X[1],q=(0,o.useState)([]),K=q[0],V=q[1],ee=(0,o.useState)(""),te=ee[0],ne=ee[1],ae=(0,o.useState)([]),se=ae[0],ie=ae[1];(0,o.useEffect)((function(){if(null!=j){var e=j.addressesStr,t=(j.tokenIds,e.split("\n")),n=[];t.map((function(e){e&&n.push({address:e.split(",")[0],tokenId:e.split(",")[1]})})),_(n),re(),de()}}),[j]);var re=function(){var e=(0,s.Z)(r().mark((function e(){var t,n,a,s,i,p,d,l,u,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=j){e.next=2;break}return e.abrupt("return");case 2:t=j.addressesStr,n=t.split("\n"),a=[],s=[],i=0;case 7:if(!(i<n.length)){e.next=23;break}if(0!==(d=null===(p=n[i])||void 0===p?void 0:p.trim()).length){e.next=12;break}return console.log("skip empty line"),e.abrupt("continue",20);case 12:if(l=d.split(","),u=l[0].trim(),o=parseFloat(l[1].trim()),m.UJ(u)){e.next=18;break}return console.log("Invalid address: ",u),e.abrupt("continue",20);case 18:a.push(u),s.push(o);case 20:i++,e.next=7;break;case 23:$(a),V(s),console.log("Total address : ".concat(a.length));case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=(0,s.Z)(r().mark((function e(){var t,n,a,s,i,p,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getNetwork();case 2:if(n=e.sent,a=n.chainId,console.log("chainId",a),i=x.filter((function(e){return e.id===a})),p=null===(t=i[0])||void 0===t?void 0:t.url,!(d=T.filter((function(e){return e.chainId===a}))).length){e.next=12;break}s=d[0].contract,e.next=14;break;case 12:return console.error("Unsupported network!!!!"),e.abrupt("return");case 14:H(s),L(p),console.log("contract address: ",s);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){pe()}),[]),(0,o.useEffect)((function(){null!=j&&E&&F&&ue()}),[j,E,F]);var de=function(){var e=(0,s.Z)(r().mark((function e(){var t,n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=j){e.next=2;break}return e.abrupt("return");case 2:return i({type:h.U.TIPS,payload:"Query balance in progress... "}),P(null),t=M.getSigner(u),e.next=7,t.getBalance();case 7:n=e.sent,a=b.dF(n),A(a),i({type:h.U.TIPS,payload:null});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=(0,s.Z)(r().mark((function e(){var t,n,s,p,d,l,o,y,m,b,x;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=j){e.next=2;break}return e.abrupt("return");case 2:console.log("~~~~doMint"),t=M.getSigner(u),n=new c.CH(F,f,M),s=0,p=[],d=(0,a.Z)(se),l=0;case 9:if(!(l<Y.length)){e.next=37;break}return s++,o=Y.slice(l,l+B),y=K.slice(l,l+B),W("Minting Badge in progress... (".concat(s,"/").concat(Math.ceil(Y.length/B),")")),i({type:h.U.TIPS,payload:"Minting Badge in progress... (".concat(s,"/").concat(Math.ceil(Y.length/B),")")}),e.prev=15,e.next=18,n.connect(t).mintBatchAddresses(o,y,"0x");case 18:return m=e.sent,e.next=21,m.wait();case 21:b=e.sent,console.log("mintBatchAddresses",b),p.push(b.hash||b.transactionHash),d=d.concat(o),s>=Math.ceil(Y.length/B)&&(J(!1),i({type:h.U.TIPS,payload:null}),i({type:h.U.STORE_TXHASHLIST,payload:p}),I(3)),e.next=34;break;case 28:e.prev=28,e.t0=e.catch(15),J(!1),i({type:h.U.TIPS,payload:null}),ne((null===(x=e.t0.data)||void 0===x?void 0:x.message)||e.t0.message),s>=Math.ceil(Y.length/B)&&console.error(se);case 34:l+=B,e.next=9;break;case 37:ie(d);case 38:case"end":return e.stop()}}),e,null,[[15,28]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){if(null!=j){var e=j.addressesStr;J(!0),W("Waiting..."),i({type:h.U.TIPS,payload:"Waiting..."});for(var t=e.split("\n"),n=[],a=[],s=0;s<t.length;s++){var r=t[s].trim();if(0!==r.length){var p=r.split(","),d=p[0].trim(),l=p[1].trim();m.UJ(d)?(n.push(d),a.push(l)):console.log("Invalid address: ",d)}else console.log("skip empty line")}i({type:h.U.TIPS,payload:null})}};return(0,g.jsxs)(v,{children:[(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("h5",{children:"List of recipients"}),(0,g.jsx)(w,{children:(0,g.jsxs)(p.Z,{striped:!0,borderless:!0,hover:!0,className:"tableStyle",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{}),(0,g.jsx)("th",{children:"Address"}),(0,g.jsx)("th",{children:"TokenId"})]})}),(0,g.jsx)("tbody",{children:U.map((function(e,t){return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:t}),(0,g.jsx)("td",{children:e.address}),(0,g.jsx)("td",{children:e.tokenId})]},"".concat(e.address,"_").concat(t))}))})]})})]}),(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("h5",{children:"Summary"}),(0,g.jsx)(p.Z,{bordered:!0,children:(0,g.jsxs)("tbody",{children:[(0,g.jsxs)("tr",{children:[(0,g.jsxs)("td",{width:"50%",children:[(0,g.jsx)("div",{className:"numbers",children:Y.length}),(0,g.jsx)("div",{className:"tips",children:"Total number of addresses"})]}),(0,g.jsxs)("td",{children:[(0,g.jsx)("div",{className:"numbers",children:Math.ceil(Y.length/B)}),(0,g.jsx)("div",{className:"tips",children:"Total number of transaction needed"})]})]}),(0,g.jsxs)("tr",{children:[(0,g.jsxs)("td",{width:"50%",children:[(0,g.jsx)("div",{className:"numbers",children:"\xa0 "}),(0,g.jsx)("div",{className:"tips",children:"Approximate cost of operation"})]}),(0,g.jsxs)("td",{children:[(0,g.jsxs)("div",{className:"numbers",children:[N," ETH"]}),(0,g.jsx)("div",{className:"tips",children:"Your ETH balance"})]})]})]})})]}),(0,g.jsx)(k,{children:!!te.length&&(0,g.jsx)(d.Z,{variant:"danger",children:te})}),(0,g.jsx)("div",{className:"ml2",children:(0,g.jsx)(l.Z,{variant:"flat",onClick:le,children:"Mint"})})]})}},5995:function(e){e.exports=JSON.parse('[{"id":1,"url":"https://etherscan.io/tx/"},{"id":42,"url":"https://kovan.etherscan.io/tx/"},{"id":56,"url":"https://bscscan.com/tx/"},{"id":97,"url":"https://testnet.bscscan.com/tx/"},{"id":128,"url":"https://hecoinfo.com/tx/"},{"id":137,"url":"https://polygonscan.com/tx/"},{"id":256,"url":"https://testnet.hecoinfo.com/tx/"}]')}}]);